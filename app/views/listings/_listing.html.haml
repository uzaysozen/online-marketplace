- user_favourite = current_user.user_favourites.find_by(listing: listing)
.row.justify-content-left.flex-column-reverse.flex-md-row.listing-container{id: "listing-#{listing.id}"}
  .col-12.col-md-12
    .border-none.rounded.h-100
      .row.p-2
            
        .col-3.text-left.listing-image-container-lrg.text-huge
          %p
          =icon('far', 'image')

        .col-7.col-lg-8.text-left.details-container
            
          .text-medium.text-red.text-left
            %p
            =listing.title 
            %p
          .text-small.text-black.border-right-black
            
            =listing.creator.username 

          .text-small.text-black
            %p
            =listing.description
            %p

          .text-small.text-darkgray 

            = listing.listing_condition.name
            %p

          .text-small.text-darkgray 
            Delivery Option
            %p

          .text-medium.text-black
            = number_to_currency listing.price, unit: "Â£"
            %p
          .row.p-2
            .col
              - if can? :create, Conversation.new(listing: listing)
                .text-small.text-center.listing-blue.rounded.bg-blue
                  Enquire
          .col
            = link_to listing, class: 'listing-button button-blue' do
              .text-small.text-center.text-blue.listing-blue.rounded
                See Details
      .col-2.col-lg-1.text-medium.text-blue.d-flex.flex-column.justify-content-around
        .icon-button
          - if can? :create, Report.new(listing: listing)
            = link_to report_listing_path(listing), class: 'ajax-modal' do
              = icon('far', 'flag')
        .text-medium
          - if can? :create, UserFavourite.new(listing: listing)
            - if user_favourite.present?
              = link_to(delete_favourite_listing_path(listing), method: :post, remote: true, class: 'icon-button heart-link') do
                = icon('fas', 'heart')
            - else
              = link_to(add_favourite_listing_path(listing), method: :post, remote: true, class: 'icon-button heart-link') do
                = icon('far', 'heart')
