- user_favourite = current_user.user_favourites.find_by(listing: listing)
.row.justify-content-left.flex-column-reverse.flex-md-row.listing-container{id: "listing-#{listing.id}"}
  .col-12.col-md-12
    .border-none.rounded.h-100
      .row.p-2
            
        .col-3.text-left.listing-image-container-lrg.text-huge
          %p
          =icon('far', 'image')

        .col-7.col-lg-8.text-left.details-container
            
          .text-medium.text-red.text-left
            %p
            =listing.title 
            %p
          .text-small.text-black.border-right-black
            
            =listing.creator.username 

          .text-small.text-black
            %p
            =listing.description
            %p

          .text-small.text-darkgray 

            = listing.listing_condition.name
            %p

          .text-small.text-darkgray 
            Delivery Option
            %p

          .text-medium.text-black
            = number_to_currency listing.price, unit: "Â£"
            %p
          - if can? :create, Conversation.new(listing: listing)
            .text-small.text-center.listing-blue.rounded.bg-blue
              = link_to start_conversation_listing_path(listing), class: 'listing-button white-button' do
                Enquire
        .col-2.col-lg-1.text-medium.text-blue
          .icon-button
            = icon('far', 'flag')
          .text-medium.action-container
            - if can? :create, UserFavourite.new(listing: listing)
              - if user_favourite.present?
                = link_to(delete_favourite_listing_path(listing), method: :post, remote: true, class: 'icon-button heart-link') do
                  = icon('fas', 'heart')
              - else
                = link_to(add_favourite_listing_path(listing), method: :post, remote: true, class: 'icon-button heart-link') do
                  = icon('far', 'heart') 
